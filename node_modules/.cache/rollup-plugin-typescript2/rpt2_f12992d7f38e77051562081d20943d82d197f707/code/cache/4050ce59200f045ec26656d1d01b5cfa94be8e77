{"code":"export class MemoryCleaner {\r\n    constructor(state) {\r\n        this.state = state;\r\n    }\r\n    async dispose() {\r\n        Object.keys(this.state.models).forEach(modelID => {\r\n            const model = this.state.models[parseInt(modelID, 10)];\r\n            model.mesh.removeFromParent();\r\n            const geom = model.mesh.geometry;\r\n            if (geom.disposeBoundsTree)\r\n                geom.disposeBoundsTree();\r\n            geom.dispose();\r\n            if (!Array.isArray(model.mesh.material))\r\n                model.mesh.material.dispose();\r\n            else\r\n                model.mesh.material.forEach(mat => mat.dispose());\r\n            model.mesh = null;\r\n            model.types = null;\r\n            model.jsonData = null;\r\n        });\r\n        this.state.api = null;\r\n        this.state.models = null;\r\n    }\r\n}\r\n//# sourceMappingURL=MemoryCleaner.js.map","references":["/Users/simquat/Development/web-ifc-three/web-ifc-three/src/IFC/BaseDefinitions.ts","/Users/simquat/Development/web-ifc-three/node_modules/@types/three/index.d.ts"],"map":"{\"version\":3,\"file\":\"MemoryCleaner.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/IFC/components/MemoryCleaner.ts\"],\"names\":[],\"mappings\":\"AAGA,MAAM,OAAO,aAAa;IACtB,YAAoB,KAAe;QAAf,UAAK,GAAL,KAAK,CAAU;IACnC,CAAC;IAED,KAAK,CAAC,OAAO;QAET,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;YAC7C,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,CAAC;YACvD,KAAK,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAC9B,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,QAAe,CAAC;YACxC,IAAI,IAAI,CAAC,iBAAiB;gBAAE,IAAI,CAAC,iBAAiB,EAAE,CAAC;YACrD,IAAI,CAAC,OAAO,EAAE,CAAC;YACf,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC;gBAAE,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;;gBAClE,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC;YACtD,KAAK,CAAC,IAAY,GAAG,IAAI,CAAC;YAC1B,KAAK,CAAC,KAAa,GAAG,IAAI,CAAC;YAC3B,KAAK,CAAC,QAAgB,GAAG,IAAI,CAAC;QACnC,CAAC,CAAC,CAAC;QAEF,IAAI,CAAC,KAAK,CAAC,GAAW,GAAG,IAAI,CAAC;QAC9B,IAAI,CAAC,KAAK,CAAC,MAAc,GAAG,IAAI,CAAC;IACtC,CAAC;CACJ\"}"}
