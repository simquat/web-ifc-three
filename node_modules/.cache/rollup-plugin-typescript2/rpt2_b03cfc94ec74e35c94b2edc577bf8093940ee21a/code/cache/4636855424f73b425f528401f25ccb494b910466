{"code":"export class TypeManager {\r\n    constructor(state) {\r\n        this.state = state;\r\n        this.state = state;\r\n    }\r\n    async getAllTypes(worker) {\r\n        for (let modelID in this.state.models) {\r\n            if (this.state.models.hasOwnProperty(modelID)) {\r\n                const types = this.state.models[modelID].types;\r\n                if (Object.keys(types).length == 0) {\r\n                    await this.getAllTypesOfModel(parseInt(modelID), worker);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    async getAllTypesOfModel(modelID, worker) {\r\n        const result = {};\r\n        const elements = await this.state.api.GetIfcEntityList(modelID);\r\n        for (let i = 0; i < elements.length; i++) {\r\n            const element = elements[i];\r\n            const lines = await this.state.api.GetLineIDsWithType(modelID, element);\r\n            const size = lines.size();\r\n            for (let i = 0; i < size; i++)\r\n                result[lines.get(i)] = element;\r\n        }\r\n        if (this.state.worker.active && worker) {\r\n            await worker.workerState.updateModelStateTypes(modelID, result);\r\n        }\r\n        this.state.models[modelID].types = result;\r\n    }\r\n}\r\n//# sourceMappingURL=TypeManager.js.map","references":["/Users/simquat/Development/web-ifc-three/web-ifc-three/src/IFC/BaseDefinitions.ts","/Users/simquat/Development/web-ifc-three/web-ifc-three/src/IFC/web-workers/IFCWorkerHandler.ts"],"map":"{\"version\":3,\"file\":\"TypeManager.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/IFC/components/TypeManager.ts\"],\"names\":[],\"mappings\":\"AAOA,MAAM,OAAO,WAAW;IAEpB,YAAoB,KAAe;QAAf,UAAK,GAAL,KAAK,CAAU;QAC/B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACvB,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,MAAyB;QAC7C,KAAK,IAAI,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;YACtC,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE;gBAC9C,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC;gBAC/C,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;oBACnC,MAAM,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,MAAM,CAAC,CAAC;iBACzD;aACD;SACD;IACC,CAAC;IAED,KAAK,CAAC,kBAAkB,CAAC,OAAe,EAAE,MAAyB;QAC/D,MAAM,MAAM,GAAG,EAAE,CAAC;QAClB,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;QAChE,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACrC,MAAM,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;YAC5B,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,kBAAkB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;YACxE,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC;YAE1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE;gBAAE,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;SACjE;QACD,IAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,IAAI,MAAM,EAAE;YAGnC,MAAM,MAAM,CAAC,WAAW,CAAC,qBAAqB,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;SACnE;QACD,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,GAAG,MAAM,CAAC;IAC9C,CAAC;CACJ\"}"}
